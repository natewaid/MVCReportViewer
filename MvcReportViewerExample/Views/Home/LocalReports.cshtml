@using Microsoft.Reporting.WebForms;
@using MvcReportViewer;
@using MvcReportViewer.Example.Models;

@model LocalReportsModel
@*@model SqlLocalReportsModel*@

@{
    ViewBag.Title = "Local Reports";

    var settings = new ControlSettings
    {
        UseCurrentAppDomainPermissionSet = true
    };
}

@section Code {
    @@{
        var settings = new ControlSettings
        {
            UseCurrentAppDomainPermissionSet = true
        };
    }

    @@Html.MvcReportViewerFluent("App_Data/Reports/Products.rdlc")
         .ProcessingMode(ProcessingMode.Local)
         .ReportParameters(new { Parameter1 = "Test", Parameter2 = 123 })
         .LocalDataSource("Products", Model.Products)
         .LocalDataSource("Cities", Model.Cities)
         .ControlSettings(settings)
         .Attributes(new { Height = 900, Width = 900, style = "border: none" })
         .Method(FormMethod.Post)

    @@Html.MvcReportViewerFluent("App_Data/Reports/Cities.rdlc")
         .ProcessingMode(ProcessingMode.Local)
         .LocalDataSource("Cities", Model.FilteredCities)
         .Attributes(new { Height = 900, Width = 900, style = "border: none" })
}

@Html.MvcReportViewerFluent("App_Data/Reports/Products.rdlc").ProcessingMode(ProcessingMode.Local).ReportParameters(new { Parameter1 = "Test", Parameter2 = 123 }).LocalDataSource("Products", Model.Products).LocalDataSource("Cities", Model.Cities).ControlSettings(settings).Attributes(new { Height = 900, Width = 900, style = "border: none" }).Method(FormMethod.Post)

@Html.MvcReportViewerFluent("App_Data/Reports/Cities.rdlc").ProcessingMode(ProcessingMode.Local).LocalDataSource("Cities", Model.FilteredCities).Attributes(new { Height = 900, Width = 900, style = "border: none" })
